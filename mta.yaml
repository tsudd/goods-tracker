_schema-version: "2.1"
ID: goods-tracker
version: 0.0.3
modules:
  - name: db
    type: hdb
    path: db
    parameters:
      memory: 256M
      disk-quota: 256M
    requires:
      - name: hdi_container
        properties:
          TARGET_CONTAINER: ~{hdi-container-name}
      - name: MyConnection
  # - name: js
  #   type: nodejs
  #   path: js
  #   parameters:
  #     host: tracker-srv
  #     register-service-url: true
  #     service-name: tracker-srv
  #     service-url: "${default-url}"
  #     memory: 512M
  #     disk-quota: 1024M
  #   provides:
  #     - name: js_api
  #       properties:
  #         url: "${default-url}"
  #   requires:
  #     - name: db
  #     - name: hdi_container
  #     - name: MyConnection
  # - name: ui
  #   type: nodejs
  #   path: ui
  #   provides:
  #     - name: ui
  #       properties:
  #         ui-url: "${default-url}"
  #   parameters:
  #     host: goods-tracker
  #     register-service-url: true
  #     service-name: goods-tracker-ui
  #     service-url: "${default-url}"
  #     memory: 256M
  #     disk-quota: 256M
  #   requires:
  #     - name: tracker-uaa
  #     - name: js_api
  #       group: destinations
  #       properties:
  #         name: js_api
  #         url: "~{url}"
  #         forwardAuthToken: true
resources:
  - name: hdi_container
    type: com.sap.xs.hdi-container
    properties:
      hdi-container-name: ${service-name}
  - name: MyConnection
    type: org.cloudfoundry.existing-service
    parameters:
      service-name: hdi_container
    properties:
      the-service-name: ${service-name}
